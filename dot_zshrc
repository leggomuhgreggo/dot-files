# Use all the colors
export TERM="xterm-256color"

# Path to your oh-my-zsh installation.
export ZSH=$HOME/.oh-my-zsh

DEFAULT_USER=`whoami`
ZSH_THEME="agnoster"

# Plugins
plugins=(zsh-autosuggestions git github pip python brew osx tmux zsh-better-npm-completion)

source $ZSH/oh-my-zsh.sh

# Android Stuff
export ANDROID_HOME=$HOME/Library/Android/sdk
export PATH=$PATH:$ANDROID_HOME/emulator
export PATH=$PATH:$ANDROID_HOME/tools
export PATH=$PATH:$ANDROID_HOME/tools/bin
export PATH=$PATH:$ANDROID_HOME/platform-tools
export JAVA_HOME=$(/usr/libexec/java_home)

# Autoload rbev
export PATH="$HOME/.rbenv/bin:$PATH"
eval "$(rbenv init -)"
export PATH="$HOME/.rbenv/plugins/ruby-build/bin:$PATH"

# VS Code
export PATH="$PATH:~/Applications/Visual Studio Code.app/Contents/Resources/app/bin"

export CHROMEDRIVER_FILEPATH="$HOME/chromedriver_mac64.zip"

# RC Aliases
alias zrc="vim ~/.zshrc"
alias vrc="vim ~/.vimrc"

# CD Aliases
alias projects="~/projects"
alias sweetgreen="~/projects/sweetgreen"
alias personal="~/projects/personal"
alias gaza="~/projects/gaza"
alias figma-"~/projects/figma"

# Docker Aliases
alias dcd='docker-compose down'
alias dcu='docker-compose up -d'
alias dps='docker ps'

# Git Aliases
alias gac='git add . && git commit -m $1'
alias gs='git status'
alias gitgraph='git log --graph --decorate --oneline'
alias gc='git commit -m'
alias gupc='git push origin HEAD'
alias gb="git for-each-ref --sort=-committerdate refs/heads/ --format='%(authordate:short) %(color:red)%(objectname:short) %(color:yellow)%(refname:short)%(color:reset) (%(color:green)%(committerdate:relative)%(color:reset))'"
alias gbr="git for-each-ref --sort=-committerdate refs/heads/ refs/remotes --format='%(authordate:short) %(authorname) %(color:red)%(objectname:short) %(color:yellow)%(refname:short)%(color:reset) (%(color:green)%(committerdate:relative)%(color:reset))'"

# sweetgreen Aliases
alias kill3000='kill -9 $(lsof -i :3000 -t)'
alias delwatch='~/projects/sweetgreen/frontend'
alias startwatch='~/projects/sweetgreen/frontend'

# Misc Aliases
alias lsa='exa -abghl --git --color=automatic'

alias setlocalgravy="bundle config --local disable_local_branch_check true && bundle config local.gravy ../gravy && bundle update --source gravy && bundle exec rake gravy:install:migrations && bundle exec rake db:migrate"
alias unsetlocalgravy="bundle config --local disable_local_branch_check false && bundle config --delete local.gravy && bundle update --source gravy && bundle exec rake gravy:install:migrations && bundle exec rake db:migrate"
alias resettest="RAILS_ENV=test bundle exec rake db:drop && RAILS_ENV=test bundle exec rake db:create && RAILS_ENV=test bundle exec rake db:migrate"
alias nukedb="bundle exec rake db:drop && bundle exec rake db:create && bundle exec rake pg:import_dev_staging && bundle exec rake db:migrate && bundle exec rake admin:users:create['email@domain.com','password',admin]"

alias tf="terraform"

# 1Password Config/Aliases
alias oplogin='eval $(op signin my)'
alias oporder='op get totp "AWS - sweetgreen-order"'
alias avexec='aws-vault exec -m $(oporder) fresh-order'

eval "$(op completion zsh)"; compdef _op op
eval "$(starship init zsh)"

# Dir Env (For AWS SSO)
eval "$(direnv hook bash)"
